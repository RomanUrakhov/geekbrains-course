# Lesson 5 Structural patterns

## Что сделано
* Реализован Decorator:  
  * flask-like `@route('/')`
  * для профилирования `@profile`
* Реализованы 2 доп. вида WSGI-приложения:
  * Как обычный, но с логированием запроса (`FlexWithLogs`) - реализация через простое наследование в силу того, 
  что через прокси появляется side-effect в виде дублирующего создания экземпляра `BaseRequest`.
  * Фэйковый (`FlexFake`) - реализация через прокси чисто в качетсве примера, хотя можно было бы и сделать просто 
  через наследование от `Flex`
  * Также дополнительно добавил фабричный метод для создания необходимого экземпляра в зависимости от конфигурации 

## Установка (локально)

#### requirements
* ставим виртаульное окружение `python -m venv .venv`
* активируем окружение `source .venv/bin/activate`
* ставим зависимости `pip install -r requirements.txt`

#### .env
* Необходимо создать `.env` на основе `.env.dist`
* Установить свое значение `SECRET_TOKEN`
* [OPTIONAL] Установить значение `WSGI_APP_TYPE` (класс приложения)
  * `default` - для экземпляра `Flex` (по-умолчанию)
  * `with_logs` - для экземпляра `FlexWithLogs`
  * `fake` - для экземпляра `FlexFake`

## Запуск (локально)

### gunicorn
`gunicorn run:app`

Апп запустится на `http://127.0.0.1:8000` 
